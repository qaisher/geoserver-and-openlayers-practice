"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9159],{1135:function(e,t,r){var n=r(6581),s=r(2865),a=r(2275),o=r(7985),l=r(8082);class u extends s.Z{constructor(e){super();const t=e||{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new n.Z,this.layers_=t.layers?t.layers:null}getLayers(){return this.layers_}setLayers(e){this.layers_=e}readFeatures_(e,t){e.setAttribute("namespaceURI",this.featureNS_);const r=e.localName;let n=[];if(0===e.childNodes.length)return n;if("msGMLOutput"==r)for(let r=0,s=e.childNodes.length;r<s;r++){const s=e.childNodes[r];if(s.nodeType!==Node.ELEMENT_NODE)continue;const a=s,u=t[0],i="_layer",c=a.localName.replace(i,"");if(this.layers_&&!(0,o.q9)(this.layers_,c))continue;const h=c+"_feature";u.featureType=h,u.featureNS=this.featureNS_;const m={};m[h]=(0,l.Ei)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const d=(0,l.C5)([u.featureNS,null],m);a.setAttribute("namespaceURI",this.featureNS_);const f=(0,l.O)([],d,a,t,this.gmlFormat_);f&&(0,o.l7)(n,f)}if("FeatureCollection"==r){const t=(0,l.O)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);t&&(n=t)}return n}readFeaturesFromNode(e,t){const r={};return t&&(0,a.f0)(r,this.getReadOptions(e,t)),this.readFeatures_(e,[r])}}var i=u;fetch("data/wmsgetfeatureinfo/osm-restaurant-hotel.xml").then((function(e){return e.text()})).then((function(e){const t=(new i).readFeatures(e);document.getElementById("all").innerText=t.length.toString();const r=new i({layers:["hotel"]}).readFeatures(e);document.getElementById("hotel").innerText=r.length.toString();const n=new i({layers:["restaurant"]}).readFeatures(e);document.getElementById("restaurant").innerText=n.length.toString()}))}},function(e){var t=function(t){return e(e.s=t)};t(9877),t(1135)}]);
//# sourceMappingURL=getfeatureinfo-layers.js.map